#!/usr/bin/python3
"""
Factorize as many numbers as possible into a product of two smaller numbers.
Usage: factors <file>
    where <file> is a file containing natural numbers to factor.
    One number per line.
    You can assume that all lines will be valid natural numbers greater than 1.
    You can assume that there will be no empty line, and no space before and after the valid number.
    The file will always end with a new line.
Output format: n=p*q
    one factorization per line.
    p and q don’t have to be prime numbers.
    See example.
You can work on the numbers of the file in the order of your choice.
Your program should run without any dependency: You will not be able to install anything on the machine we will run your program on.
Time limit: Your program will be killed after 5 seconds if it hasn’t finished.
Push all your scripts, source code, etc… to your repository.
"""

# Import the sys library to access command-line arguments.
import sys

# Define a function to factorize numbers
def factorize():
    try:
        # Get the input file from the command-line arguments
        input_file = sys.argv[1]

        # Open and read the input file
        with open(input_file) as file:
            for line in file:
                # Convert the line to an integer
                number = int(line)

                # Check if the number is even
                if number % 2 == 0:
                    # If it's even, print the factorization n = (n/2) * 2
                    print("{}={}*{}".format(number, number // 2, 2))
                    continue

                # If the number is not even, start checking for factors
                i = 3
                while i <= number // 2:
                    if number % i == 0:
                        # If a factor is found, print the factorization and break out of the loop
                        print("{}={}*{}".format(number, number // i, i))
                        break
                    i += 2  # Increment by 2 to check odd numbers

                # If the loop completes without finding a factor, print the factorization as n = n * 1
                if i == (number // 2) + 1:
                    print("{}={}*{}".format(number, number, 1))
    except (IndexError, FileNotFoundError):
        # Handle exceptions for missing command-line argument or file not found
        pass

# Call the factorize function to start the factorization process
factorize()
